from launch import LaunchDescription
from launch_ros.actions import Node, ComposableNodeContainer
from launch_ros.descriptions import ComposableNode

def generate_launch_description():

    # -----------------------------
    # Regular ROS 2 Nodes (non-composable)
    # -----------------------------
    regular_nodes = [
        # Example:
        # Node(
        #     package='pkg_name',
        #     executable='exec_name',
        #     name='node_name',
        #     output='screen'
        # ),
    ]

    # -----------------------------
    # Composable Nodes (C++ or Python)
    # -----------------------------
    composable_nodes = [
        # Example C++ composable node:
        # ComposableNode(
        #     package='{{ package_name }}',
        #     plugin='{{ package_name }}::{{ class_name }}',  # Must match XML type
        #     name='{{ node_name }}',                        # Any ROS node name
        # ),
        
        # Example Python composable node:
        # ComposableNode(
        #     package='py_pkg',
        #     plugin='py_pkg.PyComponent',
        #     name='py_component'
        # ),
    ]

    # -----------------------------
    # Composable Node Container
    # -----------------------------
    container = ComposableNodeContainer(
        name='component_container',
        namespace='',
        package='rclcpp_components',  # Use 'rclpy_components' for Python
        executable='component_container',
        composable_node_descriptions=composable_nodes,
        output='screen',
    )

    # Combine regular nodes and container
    return LaunchDescription(regular_nodes + [container])
