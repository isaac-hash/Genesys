
from genesys.decorators import node, timer, publisher
from genesys.helpers import spin_node
from std_msgs.msg import String

@node("{{ node_name }}")
class {{ class_name }}:
    """
    A simple publisher node that publishes a message every second.
    This node is auto-generated by the Genesys framework.
    """
    def __init__(self):
        # The logger is automatically injected by the @node decorator.
        self.counter = 0

    @timer(period_sec=1.0)
    @publisher(topic="chatter", msg_type=String)
    def publish_message(self):
        """
        This method is executed every second by the timer.
        The String object it returns is automatically published to the 'chatter' topic.
        """
        msg = String()
        msg.data = f"Hello from Genesys! Message #{self.counter + 1}"
        
        self.logger.info(f"Publishing: {msg.data}")

        self.counter += 1
        
        return msg
