#include "genesys_macros/SubscriberMacro.hpp"

ROS_UNIVERSAL_NODE(
    {{class_name}},

    rclcpp::Subscription<std_msgs::msg::String>::SharedPtr sub_string_;
    
    void string_cb(const std_msgs::msg::String & msg) {
        RCLCPP_INFO(this->get_logger(), "String: %s", msg.data.c_str());
    }
    , 
    
    sub_string_ = this->create_subscription<std_msgs::msg::String>(
        "/chatter", 10, 
        std::bind(&{{class_name}}::string_cb, this, std::placeholders::_1));
)

// 4. Main Function (MUST ONLY BE HERE)
int main(int argc, char * argv[])
{
    rclcpp::init(argc, argv);
    rclcpp::spin(std::make_shared<{{class_name}}>());
    rclcpp::shutdown();
    return 0;
}